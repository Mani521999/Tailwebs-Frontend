{"ast":null,"code":"// src/services/api.js\n\n// Mock Data\nconst USERS = [{\n  email: \"teacher@school.com\",\n  password: \"123\",\n  role: \"teacher\",\n  name: \"Mr. Anderson\"\n}, {\n  email: \"student@school.com\",\n  password: \"123\",\n  role: \"student\",\n  name: \"John Doe\"\n}];\nlet ASSIGNMENTS = [{\n  id: 1,\n  title: \"Math Algebra\",\n  description: \"Solve ch 1\",\n  status: \"DRAFT\",\n  dueDate: \"2024-12-01\"\n}, {\n  id: 2,\n  title: \"History Essay\",\n  description: \"WW2 Summary\",\n  status: \"PUBLISHED\",\n  dueDate: \"2024-12-10\"\n}];\nlet SUBMISSIONS = []; // { assignmentId, studentEmail, answer, date }\n\n// Helper to simulate delay\nconst delay = ms => new Promise(resolve => setTimeout(resolve, ms));\nexport const api = {\n  login: async (email, password) => {\n    await delay(800);\n    const user = USERS.find(u => u.email === email && u.password === password);\n    if (user) {\n      return {\n        token: \"fake-jwt-token\",\n        role: user.role,\n        email: user.email,\n        name: user.name\n      };\n    }\n    throw new Error(\"Invalid credentials\");\n  },\n  // Teacher: Get All Assignments\n  getAssignments: async () => {\n    await delay(500);\n    return [...ASSIGNMENTS];\n  },\n  // Student: Get Published Assignments Only\n  getPublishedAssignments: async () => {\n    await delay(500);\n    return ASSIGNMENTS.filter(a => a.status === \"PUBLISHED\");\n  },\n  createAssignment: async data => {\n    await delay(500);\n    const newAssignment = {\n      ...data,\n      id: Date.now(),\n      status: \"DRAFT\"\n    };\n    ASSIGNMENTS.push(newAssignment);\n    return newAssignment;\n  },\n  updateAssignmentStatus: async (id, status) => {\n    await delay(300);\n    ASSIGNMENTS = ASSIGNMENTS.map(a => a.id === id ? {\n      ...a,\n      status\n    } : a);\n    return true;\n  },\n  // Student: Submit Answer\n  submitAssignment: async (assignmentId, studentEmail, answer) => {\n    await delay(600);\n    const exists = SUBMISSIONS.find(s => s.assignmentId === assignmentId && s.studentEmail === studentEmail);\n    if (exists) throw new Error(\"Already submitted\");\n    SUBMISSIONS.push({\n      assignmentId,\n      studentEmail,\n      answer,\n      submittedDate: new Date().toISOString()\n    });\n    return true;\n  },\n  // Get Submission for specific student/assignment\n  getMySubmission: async (assignmentId, studentEmail) => {\n    await delay(300);\n    return SUBMISSIONS.find(s => s.assignmentId === assignmentId && s.studentEmail === studentEmail) || null;\n  },\n  // Teacher: Get all submissions for an assignment\n  getAssignmentSubmissions: async assignmentId => {\n    await delay(400);\n    return SUBMISSIONS.filter(s => s.assignmentId === assignmentId);\n  }\n};","map":{"version":3,"names":["USERS","email","password","role","name","ASSIGNMENTS","id","title","description","status","dueDate","SUBMISSIONS","delay","ms","Promise","resolve","setTimeout","api","login","user","find","u","token","Error","getAssignments","getPublishedAssignments","filter","a","createAssignment","data","newAssignment","Date","now","push","updateAssignmentStatus","map","submitAssignment","assignmentId","studentEmail","answer","exists","s","submittedDate","toISOString","getMySubmission","getAssignmentSubmissions"],"sources":["/home/praveen/Documents/Mani/Tailwebs/frontend/src/services/api.js"],"sourcesContent":["// src/services/api.js\n\n// Mock Data\nconst USERS = [\n  { email: \"teacher@school.com\", password: \"123\", role: \"teacher\", name: \"Mr. Anderson\" },\n  { email: \"student@school.com\", password: \"123\", role: \"student\", name: \"John Doe\" },\n];\n\nlet ASSIGNMENTS = [\n  { id: 1, title: \"Math Algebra\", description: \"Solve ch 1\", status: \"DRAFT\", dueDate: \"2024-12-01\" },\n  { id: 2, title: \"History Essay\", description: \"WW2 Summary\", status: \"PUBLISHED\", dueDate: \"2024-12-10\" },\n];\n\nlet SUBMISSIONS = []; // { assignmentId, studentEmail, answer, date }\n\n// Helper to simulate delay\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nexport const api = {\n  login: async (email, password) => {\n    await delay(800);\n    const user = USERS.find((u) => u.email === email && u.password === password);\n    if (user) {\n      return { token: \"fake-jwt-token\", role: user.role, email: user.email, name: user.name };\n    }\n    throw new Error(\"Invalid credentials\");\n  },\n\n  // Teacher: Get All Assignments\n  getAssignments: async () => {\n    await delay(500);\n    return [...ASSIGNMENTS];\n  },\n\n  // Student: Get Published Assignments Only\n  getPublishedAssignments: async () => {\n    await delay(500);\n    return ASSIGNMENTS.filter(a => a.status === \"PUBLISHED\");\n  },\n\n  createAssignment: async (data) => {\n    await delay(500);\n    const newAssignment = { ...data, id: Date.now(), status: \"DRAFT\" };\n    ASSIGNMENTS.push(newAssignment);\n    return newAssignment;\n  },\n\n  updateAssignmentStatus: async (id, status) => {\n    await delay(300);\n    ASSIGNMENTS = ASSIGNMENTS.map(a => a.id === id ? { ...a, status } : a);\n    return true;\n  },\n\n  // Student: Submit Answer\n  submitAssignment: async (assignmentId, studentEmail, answer) => {\n    await delay(600);\n    const exists = SUBMISSIONS.find(s => s.assignmentId === assignmentId && s.studentEmail === studentEmail);\n    if(exists) throw new Error(\"Already submitted\");\n    \n    SUBMISSIONS.push({\n      assignmentId,\n      studentEmail,\n      answer,\n      submittedDate: new Date().toISOString()\n    });\n    return true;\n  },\n\n  // Get Submission for specific student/assignment\n  getMySubmission: async (assignmentId, studentEmail) => {\n    await delay(300);\n    return SUBMISSIONS.find(s => s.assignmentId === assignmentId && s.studentEmail === studentEmail) || null;\n  },\n  \n  // Teacher: Get all submissions for an assignment\n  getAssignmentSubmissions: async (assignmentId) => {\n    await delay(400);\n    return SUBMISSIONS.filter(s => s.assignmentId === assignmentId);\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}